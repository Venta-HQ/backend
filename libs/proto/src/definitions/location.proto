syntax = "proto3";

package location;

service LocationService {
  rpc UpdateVendorLocation (LocationUpdate) returns (Empty) {}
  rpc VendorLocations (stream VendorLocationRequest) returns (stream VendorLocationResponse) {}
}

message Empty {

}

message VendorLocationRequest {
    string callerId = 1;
    Location swLocation = 2;
    Location neLocation = 3;
}

message Vendor {
    string id = 1;
    double dist = 2;
    Location location = 3;
}

message VendorLocationResponse {
    string callerId = 1;
    repeated Vendor vendors = 2;
}

message Location {
    double long = 1;
    double lat = 2;
}

message LocationUpdate {
    Location location = 1;
    string entityId = 2;
}