# Service Discovery Configuration
# These environment variables are used by the ServiceDiscoveryService in the gateway

# =============================================================================
# DYNAMIC SERVICE DISCOVERY (Recommended)
# =============================================================================
# Use this pattern for truly dynamic service discovery
# The gateway will automatically discover any service with the SERVICE_*_ADDRESS pattern

SERVICE_USER_SERVICE_ADDRESS=http://user-service:3001
SERVICE_VENDOR_SERVICE_ADDRESS=http://vendor-service:3002
SERVICE_LOCATION_SERVICE_ADDRESS=http://location-service:3003
SERVICE_WEBSOCKET_GATEWAY_SERVICE_ADDRESS=http://websocket-gateway:3004
SERVICE_ALGOLIA_SYNC_SERVICE_ADDRESS=http://algolia-sync:3005

# Add new services dynamically by following the same pattern:
# SERVICE_NEW_SERVICE_ADDRESS=http://new-service:3006

# =============================================================================
# LEGACY SERVICE DISCOVERY (Fallback)
# =============================================================================
# These are kept for backward compatibility
# If no SERVICE_*_ADDRESS variables are found, these will be used as fallback

USER_SERVICE_ADDRESS=http://user-service:3001
VENDOR_SERVICE_ADDRESS=http://vendor-service:3002
LOCATION_SERVICE_ADDRESS=http://location-service:3003
WEBSOCKET_GATEWAY_SERVICE_ADDRESS=http://websocket-gateway:3004
ALGOLIA_SYNC_SERVICE_ADDRESS=http://algolia-sync:3005

# =============================================================================
# HEALTH CHECK ENDPOINTS (Optional)
# =============================================================================
# These are optional - defaults to /health if not specified

USER_SERVICE_HEALTH_ENDPOINT=/health
VENDOR_SERVICE_HEALTH_ENDPOINT=/health
LOCATION_SERVICE_HEALTH_ENDPOINT=/health
WEBSOCKET_GATEWAY_SERVICE_HEALTH_ENDPOINT=/health
ALGOLIA_SYNC_SERVICE_HEALTH_ENDPOINT=/health

# =============================================================================
# CIRCUIT BREAKER CONFIGURATION
# =============================================================================

CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30000
CIRCUIT_BREAKER_HALF_OPEN_MAX_ATTEMPTS=3

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# GATEWAY CONFIGURATION
# =============================================================================

GATEWAY_PORT=3000
GATEWAY_HOST=0.0.0.0

# =============================================================================
# SERVICE PORTS (for local development)
# =============================================================================

USER_SERVICE_PORT=3001
VENDOR_SERVICE_PORT=3002
LOCATION_SERVICE_PORT=3003
WEBSOCKET_GATEWAY_PORT=3004
ALGOLIA_SYNC_PORT=3005

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

DATABASE_URL=postgresql://username:password@localhost:5432/venta_db

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_URL=redis://localhost:6379

# =============================================================================
# NATS CONFIGURATION
# =============================================================================

NATS_URL=nats://localhost:4222

# =============================================================================
# ALGOLIA CONFIGURATION
# =============================================================================

ALGOLIA_APP_ID=your_algolia_app_id
ALGOLIA_API_KEY=your_algolia_api_key
ALGOLIA_INDEX_NAME=venta_products

# =============================================================================
# CLERK CONFIGURATION
# =============================================================================

CLERK_SECRET_KEY=your_clerk_secret_key
CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key

# =============================================================================
# REVENUECAT CONFIGURATION
# =============================================================================

REVENUECAT_API_KEY=your_revenuecat_api_key

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

LOG_LEVEL=info
NODE_ENV=development 